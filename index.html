<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href=" styles/modules.css">
    <link rel="stylesheet" href="styles/reset.css">
    <title>Devin Tiger Book List</title>
</head>
<body>
    <section class="bookshelf container">
        <ul id="book-list"></ul>
        <ul id ="book-list"> books here </ul>
        <h3 id="book-count"></h3>
    </section>

    <section class="error-view container">
        <h1 id="error-message">Error</h1>
    </section>

<section id ="book-list-page" class = "page">book list</section>
<section id ="book-detail-page" class = "page">book list</section>
<section id ="book-create-page" class = "page">book</section>
<section id ="book-error-page" class = "page">error</section>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="scripts/models/book.js"></script>

    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.amd.min.js"></script>
    <script>
    let __API_URL__ = "https://dc-th-booklist.herokuapp.com/api/v1/books"
    // var __API_URL__ = 'http://localhost:3000/api/v1/books'

    $('.error-view').hide()
    

    $.getJSON(__API_URL__).then(results =>{
        console.log(results)
        results.forEach(bookData => {
            $('#book-list').append(`<p>Book Title: ${bookData.title} <br> Book Author: ${bookData.author}</p>`)
        })

        $('#book-count').append(`<p>Book Count: ${results.length}</p>`)
    })

    var errorView = {}

    errorView.initErrorPage = (err) => {
        $('.container').hide()
        $('.error-view').show()
        $('#error-message').empty()
    }
    
    </script>
    <script src="/home/tigerhsu/code-301/tiger-devin/book-list-client/scripts/views/book-create.js"></script>

    //
    <script src ='/home/tigerhsu/code-301/tiger-devin/book-list-client/scripts/controllers/routes.js'> </script>
    <!-- document.ready (); or remember to load page by list first, the load all your functions.  -->
</body>
</html>